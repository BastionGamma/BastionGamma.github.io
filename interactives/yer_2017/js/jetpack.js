!function(t,n){"undefined"!=typeof module&&module.exports?module.exports=n(require("d3")):"function"==typeof define&&define.amd?define(["d3"],n):t.d3=n(t.d3)}(this,function(t){function n(t){if("string"==typeof t){var n,e={},r=t.split(o);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return e.id||e.class?{tag:t,attr:e}:t}return t}function e(n){var e=t.namespace||t.ns.qualify;return"function"==typeof n?n:(n=e(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function r(t){return"function"==typeof t?t:function(){return this.querySelector(t)}}t.selection.prototype.translate=function(t){return this.attr("transform",function(n,e){return"translate("+["function"==typeof t?t.call(this,n,e):t]+")"})},t.transition.prototype.translate=function(t){return this.attr("transform",function(n,e){return"translate("+["function"==typeof t?t.call(this,n,e):t]+")"})},t.selection.prototype.tspans=function(t,n){return this.selectAll("tspan").data(t).enter().append("tspan").text(function(t){return t}).attr("x",0).attr("dy",function(t,e){return e?n||15:0})},t.selection.prototype.append=function(t){var r,o=n(t);t=o.attr?o.tag:t,t=e(t),r=this.select(function(){return this.appendChild(t.apply(this,arguments))});for(var t in o.attr)r.attr(t,o.attr[t]);return r},t.selection.prototype.insert=function(t,o){var i,u=n(t);t=u.attr?u.tag:t,t=e(t),o=r(o),i=this.select(function(){return this.insertBefore(t.apply(this,arguments),o.apply(this,arguments)||null)});for(var t in u.attr)i.attr(t,u.attr[t]);return i},t.selection.enter&&(t.selection.enter.prototype.append=t.selection.prototype.append,t.selection.enter.prototype.insert=t.selection.prototype.insert);var o=/([\.#])/g;t.wordwrap=function(t,n){var e=t.split(" "),r=[],o=[],i=n||40,u=0;return e.forEach(function(t){u+t.length>i&&(r.push(o.join(" ")),o.length=0,u=0),u+=t.length,o.push(t)}),o.length&&r.push(o.join(" ")),r},t.ascendingKey=function(t){return"function"==typeof t?function(n,e){return t(n)<t(e)?-1:t(n)>t(e)?1:t(n)>=t(e)?0:NaN}:function(n,e){return n[t]<e[t]?-1:n[t]>e[t]?1:n[t]>=e[t]?0:NaN}},t.descendingKey=function(t){return"function"==typeof t?function(n,e){return t(e)<t(n)?-1:t(e)>t(n)?1:t(e)>=t(n)?0:NaN}:function(n,e){return e[t]<n[t]?-1:e[t]>n[t]?1:e[t]>=n[t]?0:NaN}},t.f=function(){for(var n=arguments,e=0,r=n.length;e<r;)n[e]in t.f._?n[e]=function(t){return function(n){return t(n)}}(t.f._[n[e]]):"string"==typeof n[e]||"number"==typeof n[e]?n[e]=function(t){return function(n){return n[t]}}(n[e]):"object"==typeof n[e]&&(n[e]=function(t){return function(n){return t[n]}}(n[e])),e++;return function(t){for(var e=0,r=n.length;e++<r;)t=n[e-1].call(this,t);return t}},t.f._={"ƒ.call":function(t){return t()},"ƒ.not":function(t){return!t}},"undefined"==typeof window||window.hasOwnProperty("ƒ")||(window.ƒ=t.f);var i=t.selection.prototype.on;return t.selection.prototype.on=function(t,n,e){if("string"==typeof t&&t.indexOf(" ")>-1){t=t.split(" ");for(var r=0;r<t.length;r++)i.apply(this,[t[r],n,e])}else i.apply(this,[t,n,e]);return this},t.selection.prototype.prop=t.selection.prototype.property,t.selection.prototype.appendMany=function(t,n){return this.selectAll(n).data(t).enter().append(n)},t.round=t.round||function(t,n){return d=Math.pow(10,n),Math.round(t*d)/d},t});